"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,1765,5841,8222],{48292:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j,renderETDateAtCell:()=>N});var n=a(80045),o=a(89379),r=a(65043),i=a(26240),l=a(46946),d=a(65204),s=a(94496),u=a(8591),c=a(42788),m=a(72882),f=a(97334),h=a(61976),p=a(57488),v=(a(92342),a(77265)),x=a(81451),g=a(70579);const b=["rowID","patientFirstName","patientMiddleName","patientLastName","patientSpouseFirstName","patientSpouselastName"],A={mrn:"",fname:"",fatname:"",gfatname:"",mobile:""},N=e=>{try{if(!e)return"";const t=new Date(e),a=new Date(t.getTime()+108e5),n=x.N.fromEuropeanDate(a);return"".concat(n.year,"-").concat(String(n.month).padStart(2,"0"),"-").concat(String(n.date).padStart(2,"0"))}catch(t){return console.error("Date conversion error:",t),""}},y=(e,t)=>{try{return"Reset"===t.name?A:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values})}catch(a){console.error("State Update Error: ",a)}},C=(e,t)=>{try{return"Reset"===t.name?A:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values})}catch(a){console.error("State Update Error: ",a)}},M=async e=>{try{return e.length>0?e.map(((e,t)=>{let{rowID:a,patientFirstName:r,patientMiddleName:i,patientLastName:l,patientSpouseFirstName:d,patientSpouselastName:s}=e,u=(0,n.A)(e,b);return(0,o.A)({id:t+1,patientFName:r+" "+i+" "+l,patientSpouseName:d+" "+s},u)})):[]}catch(t){return console.error("This is the Data Modification Error: ",t),[]}},j=()=>{const e=(0,i.A)(),[t,a]=(0,r.useReducer)(y,A),[n,o]=(0,r.useReducer)(C,A),[x,b]=(0,r.useState)(!1),[j,k]=(0,r.useState)([]),[O,I]=(0,r.useState)([]),[P,D]=(0,r.useState)(0),[w,S]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const n=await v.A.put("/Patient/get-patient-info",{currentTime:new Date});if(200===(null===n||void 0===n?void 0:n.status)){var e,t,a;const o=await M(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.value);k(o),D((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.count)||0)}}catch(n){console.error("This is Fetch Data Error: ",n)}})()}),[]),(0,r.useEffect)((()=>{S(F())}),[t]);const T=[{field:"patientCardNumber",headerName:"Patient MRN",flex:1},{field:"patientFName",headerName:"Patient Name",flex:1},{field:"patientMotherName",headerName:"Mother Name",flex:1},{field:"patientGender",headerName:"Gender",flex:1,maxWidth:"10px"},{field:"patientDOB",headerName:"Date of Birth",flex:1,renderCell:e=>{var t;return N(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.patientDOB)}},{field:"patientPhoneNumber",headerName:"Mobile",flex:1},{field:"appointment",headerName:"Provider",flex:1},{field:"department",headerName:"Department",flex:1},{field:"patientSpouseName",headerName:"Spouse Name",flex:1},{field:"patientVisitingDate",headerName:"Visiting Date",flex:1,renderCell:e=>{var t;return N(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.patientVisitingDate)}}],R=e=>{try{"fname"===e.target.name||"fatname"===e.target.name||"gfatname"===e.target.name?L(e.target.name,e.target.value):"mrn"===e.target.name?W(e.target.name,e.target.value):z(e.target.name,e.target.value),a({name:e.target.name,values:e.target.value})}catch(t){console.error("The Handle Chnage Error: ",t),p.oR.error("Some thing went wrong.")}},W=(e,t)=>{!/^[0-9a-zA-Z\s\_\-]{5,}$/.test(t)&&(null===t||void 0===t?void 0:t.length)>0?o({name:e,values:"Please enter valid MRN (5+ digits)."}):o({name:e,values:""})},F=()=>t.fname.length>0||t.fatname.length>0||t.gfatname.length>0||(null===t||void 0===t?void 0:t.mrn.length)>0||(null===t||void 0===t?void 0:t.mobile.length)>0||(I([]),!1),E=async()=>{try{if(b(!0),t.fname.length<=0&&t.fatname.length<=0&&t.gfatname.length<=0&&(null===t||void 0===t?void 0:t.mrn.length)<=0&&(null===t||void 0===t?void 0:t.mobile.length)<=0)return void p.oR.info("Please fill at least one of field to search.");if(Object.values(n).some((e=>e.length>0)))return void p.oR.info("Please fix the errors first.");const o=await(async(e,t,a,n,o)=>{try{const r={currentTime:new Date};return e&&(r.patientLastName=e),t&&(r.patientMiddleName=t),a&&(r.patientFirstName=a),n&&(r.patientPhone=n),o&&(r.patientCardNumber=o),r}catch(r){return console.error("This is the Conditional Rendering Error: ",r),{}}})(t.gfatname,t.fatname,t.fname,t.mobile,null===t||void 0===t?void 0:t.mrn),r=await v.A.put("/Patient/get-patient-info",o);if(200===(null===r||void 0===r?void 0:r.status)){var e,a;const t=await M(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.value);t.length>0?I(t):(p.oR.info("Data not found!"),I([]))}}catch(i){var o,r;console.error("The Searching Error: ",i),p.oR.error((null===i||void 0===i||null===(o=i.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)||"Internal server error.")}finally{b(!1)}},L=(e,t)=>{!/^[a-zA-Z\u1200-\u137F]{3,}$/.test(t)&&t.length>0?o({name:e,values:"Name must be only letters, at least 3 characters long, and contain no spaces."}):o({name:e,values:""})},z=(e,t)=>{!/^(?:\+251|09|07)\d+$/.test(t)&&t.length>0?o({name:e,values:"Phone number must start with +251, 09, or 07 and contain only numbers."}):t.startsWith("+251")&&13!==t.length?o({name:e,values:"Phone number starting with +251 must have 13 digits."}):(t.startsWith("09")||t.startsWith("07"))&&10!==t.length?o({name:e,values:"Phone number starting with 09 or 07 must have 10 digits."}):o({name:e,values:""})};return(0,g.jsxs)("div",{children:[(0,g.jsx)(l.A,{sx:{mx:"auto",p:{xs:2,sm:3},mt:4,borderRadius:2,boxShadow:3,marginInline:"15px"},children:(0,g.jsxs)(d.A,{elevation:1,sx:{p:{xs:2,sm:3}},children:[(0,g.jsx)(s.A,{variant:"h6",sx:{mb:2,borderBottom:"2px solid ".concat(e.palette.primary.main),display:"inline-block",fontWeight:600},children:"Patient Search"}),(0,g.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"MRN",value:null===t||void 0===t?void 0:t.mrn,name:"mrn",onChange:R,error:!(null===n||void 0===n||!n.mrn),helperText:null===n||void 0===n?void 0:n.mrn,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"First Name",value:null===t||void 0===t?void 0:t.fname,name:"fname",onChange:R,error:!(null===n||void 0===n||!n.fname),helperText:null===n||void 0===n?void 0:n.fname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Father Name",value:null===t||void 0===t?void 0:t.fatname,name:"fatname",onChange:R,error:!(null===n||void 0===n||!n.fatname),helperText:null===n||void 0===n?void 0:n.fatname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Grand Father Name",value:null===t||void 0===t?void 0:t.gfatname,name:"gfatname",onChange:R,error:!(null===n||void 0===n||!n.gfatname),helperText:null===n||void 0===n?void 0:n.gfatname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Mobile",value:null===t||void 0===t?void 0:t.mobile,name:"mobile",onChange:R,error:!(null===n||void 0===n||!n.mobile),helperText:null===n||void 0===n?void 0:n.mobile,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,g.jsx)(m.A,{variant:"contained",color:"light"===e.palette.mode?"primary":"secondary",fullWidth:!0,onClick:()=>E(),sx:{height:"100%"},children:x?(0,g.jsx)(f.A,{size:24,color:"inherit"}):"Search"})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,g.jsx)(m.A,{variant:"outlined",color:"error",onClick:()=>{a({name:"Reset"}),o({name:"Reset"})},fullWidth:!0,sx:{height:"100%"},children:"Cancel"})})]}),(0,g.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsx)(s.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500,color:"text.secondary"},children:"Patients Information"})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsxs)(s.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500,color:"text.secondary",justifySelf:"end"},children:["Total Patient is \xa0 ",(0,g.jsx)("strong",{children:P})]})})]}),(0,g.jsx)(l.A,{sx:{height:300,width:"100%"},children:(0,g.jsx)(h.z,{rows:w?O:j,columns:T,loading:x,disableSelectionOnClick:!0,autoHeight:!0,sx:{minWidth:320}})})]})}),(0,g.jsx)(p.N9,{})]})}},56181:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var n=a(80045),o=a(89379),r=a(65043),i=a(26240),l=a(71716),d=a(46946),s=a(65204),u=a(94496),c=a(8591),m=a(88911),f=a(39336),h=a(42788),p=a(56894),v=a(97334),x=a(72882),g=a(61976),b=a(83560),A=a(57488),N=(a(92342),a(27073)),y=a.n(N),C=a(48292),M=a(77265),j=a(83074),k=a(70579);const O=["accedentRecId","patientMiddleName","patientLastName","patientFirstName"],I={patientCardNumber:"",patientAge:"",accedentDate:"",acceedentAddress:"",carCertificate:"",plateNumber:"",policeName:"",policePhone:""},P=(e,t)=>{try{return"Reset"===t.name?I:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values})}catch(a){console.error("State Update Error: ",a)}};const D=function(){var e;const[t,a]=(0,r.useState)(I),[N,D]=(0,r.useReducer)(P,I),[w,S]=(0,r.useState)([]),[T,R]=(0,r.useState)(null),[W,F]=(0,r.useState)(!1),[E,L]=(0,r.useState)(!1),[z,U]=(0,r.useState)(!1),[B,H]=(0,r.useState)(""),$=(0,i.A)();(0,r.useEffect)((()=>{(async()=>{try{var e,t;const a=await M.A.put("/Patient/get-patient-accedent",{}),r=null===a||void 0===a||null===(e=a.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>{let{accedentRecId:t,patientMiddleName:a,patientLastName:r,patientFirstName:i}=e,l=(0,n.A)(e,O);return(0,o.A)({id:t,patientName:i+" "+a+" "+r},l)}));200===(null===a||void 0===a?void 0:a.status)&&S(r.sort(((e,t)=>t.id-e.id)))}catch(i){var a,r;console.error("This is fetch table data error: ",i),A.oR.error((null===i||void 0===i||null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.msg)||"Unable to Fetch Data")}})()}),[E]);const Z=e=>{const{name:t,value:n}=e.target;"patientCardNumber"===t?(H(""),_(t,n)):"accedentDate"===t||"plateNumber"===t?Y(t,n):"policeName"===t?V(t,n):"policePhone"===t&&G(t,n),a((e=>(0,o.A)((0,o.A)({},e),{},{[t]:n})))},q=[{field:"patientCardNumber",headerName:"MRN",flex:1},{field:"patientName",headerName:"Name",flex:1},{field:"patientAge",headerName:"Age",flex:1},{field:"accedentDate",headerName:"Date",flex:1,renderCell:e=>{var t;return(0,C.renderETDateAtCell)(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.accedentDate)}},{field:"plateNumber",headerName:"Plate Number",flex:1},{field:"carCertificate",headerName:"Car Certificate",flex:1,renderCell:e=>{var t,a,n;return(null===e||void 0===e||null===(t=e.row)||void 0===t||null===(a=t.carCertificate)||void 0===a?void 0:a.length)<=0?"Unspecified":null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.carCertificate}},{field:"acceedentAddress",headerName:"Address",flex:2},{field:"policeName",headerName:"Police Name",flex:1},{field:"policePhone",headerName:"Police Phone",flex:1},{field:"actions",headerName:"Actions",flex:1,sortable:!1,renderCell:e=>(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.A,{onClick:()=>{var t;t=w.findIndex((t=>t.id===e.row.id)),a(w[t]),R(t)},children:(0,k.jsx)(b.A,{})})})}],G=(e,t)=>{!/^(?:\+251|09|07)\d+$/.test(t)&&t.length>0?D({name:e,values:"Phone number must start with +251, 09, or 07 and contain only numbers."}):t.startsWith("+251")&&13!==t.length?D({name:e,values:"Phone number starting with +251 must have 13 digits."}):(t.startsWith("09")||t.startsWith("07"))&&10!==t.length?D({name:e,values:"Phone number starting with 09 or 07 must have 10 digits."}):D({name:e,values:""})},V=(e,t)=>{!/^[a-zA-Z\u1200-\u137F\s]{3,}$/.test(t)&&t.length>0?D({name:e,values:"Full Name must be only letters, at least 3 characters long."}):D({name:e,values:""})},_=(e,t)=>{!/^[0-9a-zA-Z\s\_\-]{5,}$/.test(t)&&t.length>0?D({name:e,values:"Please Insert Valid MRN, more than 5 digit only."}):D({name:e,values:""})},Y=(e,t)=>{!/^[a-zA-Z0-9\u1200-\u137F\s]+$/.test(t)&&t.length>0?D({name:e,values:"Letters Number and space Only."}):D({name:e,values:""})};return(0,k.jsxs)(d.A,{p:3,component:s.A,sx:{marginInline:"15px"},elevation:4,borderRadius:3,children:[(0,k.jsx)(u.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"\ud83d\udea8 Traffic Accident Registration"}),(0,k.jsxs)("form",{onSubmit:async e=>{try{var n;if(F(!0),e.preventDefault(),Object.values(N).some((e=>e.length>0)))return void A.oR.error("Please fix the erros first.");const r={id:null!==T?null===t||void 0===t?void 0:t.id:0,patientCardNumber:"".concat(Number(null===t||void 0===t?void 0:t.patientCardNumber)),accAddress:null===t||void 0===t?void 0:t.acceedentAddress,accDate:null===t||void 0===t||null===(n=t.accedentDate)||void 0===n?void 0:n.split("+")[0],policeName:null===t||void 0===t?void 0:t.policeName,policePhone:null===t||void 0===t?void 0:t.policePhone,plateNumber:null===t||void 0===t?void 0:t.plateNumber,certificate:null===t||void 0===t?void 0:t.carCertificate};if(null!==T){const e=await M.A.put("/Patient/change-patient-accedent",r);var o;if(200===(null===e||void 0===e?void 0:e.status))A.oR.success((null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.msg)||"Updated Successfully."),L((e=>!e)),R(null),a(I)}else{const e=await M.A.post("/Patient/add-patient-accedent",r);200===(null===e||void 0===e?void 0:e.status)&&(L((e=>!e)),A.oR.success("Recorded Successfully."),a(I),H(""))}}catch(l){var r,i;console.error("This is Submit Error: ",l),A.oR.error((null===l||void 0===l||null===(r=l.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.msg)||"Internal Server Error.")}finally{F(!1)}},children:[(0,k.jsx)(c.Ay,{container:!0,spacing:2,mt:1,children:(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsxs)(m.A,{direction:"row",spacing:2,divider:(0,k.jsx)(f.A,{orientation:"vertical",flexItem:!0}),sx:{width:"100%"},children:[(0,k.jsx)(d.A,{sx:{flex:1},children:(0,k.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{variant:"subtitle1",fontWeight:"bold",children:"Patient Information"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"MRN",name:"patientCardNumber",value:null===t||void 0===t?void 0:t.patientCardNumber,onChange:Z,disabled:null!==T,fullWidth:!0,required:!0,error:!(null===N||void 0===N||!N.patientCardNumber),helperText:(null===N||void 0===N||null===(e=N.patientCardNumber)||void 0===e?void 0:e.length)>0?null===N||void 0===N?void 0:N.patientCardNumber:B,InputProps:{endAdornment:(0,k.jsx)(p.A,{position:"end",children:z&&(0,k.jsx)(v.A,{size:24,color:"inherit"})}),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}},FormHelperTextProps:{style:{color:null!==N&&void 0!==N&&N.patientCardNumber?"red":"green",fontSize:"14px"}},onBlurCapture:()=>(async()=>{try{var e,a;if(U(!0),(null===B||void 0===B?void 0:B.length)<=0&&(null===N||void 0===N||null===(e=N.patientCardNumber)||void 0===e?void 0:e.length)<=0&&(null===t||void 0===t||null===(a=t.patientCardNumber)||void 0===a?void 0:a.length)>0){const e=await(0,j.rA)(null===t||void 0===t?void 0:t.patientCardNumber);(null===e||void 0===e?void 0:e.length)>0?H(e):A.oR.error("Card Number Not Registered.")}}catch(n){console.error(n)}finally{U(!1)}})()})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(d.A,{sx:{height:"56px",border:"1px dashed ".concat("dark"===$.palette.mode?"rgba(255,255,255,0.23)":"rgba(0,0,0,0.23)"),borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0,0,0,0.6)",fontStyle:"italic",paddingBottom:"71px"}})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{variant:"subtitle1",fontWeight:"bold",children:"Car Information (if Known)"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"Car Plate Number",name:"plateNumber",value:null===t||void 0===t?void 0:t.plateNumber,onChange:Z,fullWidth:!0,error:!(null===N||void 0===N||!N.plateNumber),helperText:null===N||void 0===N?void 0:N.plateNumber,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}}})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"Certificate",name:"carCertificate",value:null===t||void 0===t?void 0:t.carCertificate,onChange:Z,fullWidth:!0,error:!(null===N||void 0===N||!N.carCertificate),helperText:null===N||void 0===N?void 0:N.carCertificate,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}}})})]})}),(0,k.jsx)(d.A,{sx:{flex:1},children:(0,k.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{variant:"subtitle1",fontWeight:"bold",children:"Accident Information"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(y(),{label:"Accident Date",name:"accedentDate",value:null!==t&&void 0!==t&&t.accedentDate?new Date(null===t||void 0===t?void 0:t.accedentDate):null,onChange:e=>((e,t)=>{let n;if(n=t instanceof Date?t:new Date(t),isNaN(n.getTime()))return void console.error("Invalid date provided to handleChangeTime:",t);const r=n.getTimezoneOffset(),i=Math.abs(r),l=String(Math.floor(i/60)).padStart(2,"0"),d=String(i%60).padStart(2,"0"),s=r<=0?"+":"-",u=new Date(n.getTime()-6e4*r).toISOString().slice(0,19).replace("T"," "),c="".concat(u," ").concat(s).concat(l,":").concat(d);a((t=>(0,o.A)((0,o.A)({},t),{},{[e]:c})))})("accedentDate",e),sx:{width:"100%"},required:!0},(null===t||void 0===t?void 0:t.accedentDate)||"accidentDate-date")}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"Accident Address",name:"acceedentAddress",value:null===t||void 0===t?void 0:t.acceedentAddress,onChange:Z,fullWidth:!0,multiline:!0,rows:2,required:!0,error:!(null===N||void 0===N||!N.acceedentAddress),helperText:null===N||void 0===N?void 0:N.acceedentAddress,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}}})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{variant:"subtitle1",fontWeight:"bold",children:"From the form filled out by the police"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"Police Name",name:"policeName",value:null===t||void 0===t?void 0:t.policeName,onChange:Z,fullWidth:!0,required:!0,error:!(null===N||void 0===N||!N.policeName),helperText:null===N||void 0===N?void 0:N.policeName,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}}})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(h.A,{label:"Police Phone",name:"policePhone",value:null===t||void 0===t?void 0:t.policePhone,onChange:Z,fullWidth:!0,type:"tel",error:!(null===N||void 0===N||!N.policePhone),helperText:null===N||void 0===N?void 0:N.policePhone,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===$.palette.mode?"#fff":"#000"},color:"dark"===$.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===$.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===$.palette.mode?"#fff":"#000"}}}})})]})})]})})}),(0,k.jsxs)(d.A,{mt:3,display:"flex",justifyContent:"flex-end",gap:2,children:[(0,k.jsx)(x.A,{variant:"outlined",color:"error",onClick:()=>{a(I),D({name:"Reset"}),H(""),R(null)},children:"Cancel"}),(0,k.jsx)(x.A,{type:"submit",color:"dark"===$.palette.mode?"secondary":"primary",disabled:W,variant:"contained",children:W?(0,k.jsx)(v.A,{size:24,color:"inherit"}):null!==T?"Update":"Register"})]})]}),(0,k.jsxs)(d.A,{mt:5,children:[(0,k.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Registered Records"}),(0,k.jsx)(d.A,{children:(0,k.jsx)(g.z,{rows:w,columns:q,disableRowSelectionOnClick:!0,getRowId:e=>e.id,localeText:{noRowsLabel:"No traffic accident records to display"},autoHeight:!0,sx:{minWidth:320}})})]}),(0,k.jsx)(A.N9,{})]})}},81451:(e,t,a)=>{a.d(t,{N:()=>s});var n=Object.defineProperty,o=(e,t,a)=>(((e,t,a)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const r=new Date("December 9, 2012").getTime()-new Date("April 1, 2005").getTime(),i=new Date(1900,2,1),l=new Date(2100,1,1);function d(e){return{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[e]}class s{constructor(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(o(this,"year"),o(this,"month"),o(this,"date"),o(this,"hour"),o(this,"minute"),o(this,"second"),o(this,"toTimeString",(()=>this.hour<13?m(this.hour)+":"+m(this.minute)+":"+m(this.second)+" a.m.":m(this.hour-12)+":"+m(this.minute)+":"+m(this.second)+" p.m.")),o(this,"toDateString",(()=>({1:"Meskerem ",2:"Tikimt ",3:"Hidar ",4:"Tahsas ",5:"Tir ",6:"Yekatit ",7:"Megabit ",8:"Meyazya ",9:"Ginbot ",10:"Sene ",11:"Hamle ",12:"Nehase ",13:"Pagume "}[this.month]+this.date+", "+this.year))),o(this,"toDateWithDayString",(()=>"".concat(d(this.getDay()),", ").concat(this.toDateString()))),o(this,"toString",(()=>"".concat(this.toDateString(),", ").concat(this.toTimeString()))),o(this,"toFullDateTimeString",(()=>"".concat(this.toString(),", ").concat(d(this.getDay())," ."))),o(this,"getDay",(()=>{return(this.year+2*this.month+this.date+(e=this.year,-Math.floor((2023-e)/4)))%7;var e})),a>30)throw new Error("Invalid Ethiopian Date: ".concat(a));if(t<1||t>13)throw new Error("Invalid Ethiopian Month: ".concat(t));this.year=e>200?e:e+1900,this.month=t,this.date=a,this.hour=n,this.minute=r,this.second=i}static now(){const e=new Date;return this.fromEuropeanDate(e)}static fromEuropeanDate(e){return c(e)}toEuropeanDate(){return function(e){const t=new Date(new Date(Date.UTC(e.year,e.month-1,e.date)).getTime()+r);if(13===e.month){let t;if(t=e.year%4===3?6:5,e.date>t)throw"Pagume Only has "+t+" days at year "+e.year+". Please select another day."}for(let a=-8;a<9;a++){const n=new Date(t.getTime()+864e5*a),o=n.getTime()-new Date(Date.UTC(1971,8,12)).getTime(),r=Math.floor(o/1262304e5);let i=Math.floor((o-1262304e5*r)/31536e6);4===i&&(i=3);const l=Math.floor((o-1262304e5*r-31536e6*i)/2592e6),d=Math.floor((o-1262304e5*r-31536e6*i-30*l*864e5)/864e5);if(e.date===d+1&&e.month===l+1){if(!u(n))throw"Out of range input year: ".concat(n.getFullYear());return n}}throw"Date not converted: ".concat(e.year,",  ").concat(e.month,",  ").concat(e.date,", ")}(this)}}function u(e){return e>=i&&e<=l}function c(e){if(!u(e))throw"Out of range input year: ".concat(e.getFullYear());const t=e.getTime()-new Date(Date.UTC(1971,8,12)).getTime(),a=Math.floor(t/1262304e5);let n=Math.floor((t-1262304e5*a)/31536e6);4===n&&(n=3);const o=Math.floor((t-1262304e5*a-31536e6*n)/2592e6),r=Math.floor((t-1262304e5*a-31536e6*n-30*o*864e5)/864e5);let i=e.getHours();return i<0&&(i+=24),new s(n+4*a+1964,o+1,r+1,i,e.getMinutes(),e.getSeconds())}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")}}}]);
//# sourceMappingURL=1765.4c373b43.chunk.js.map