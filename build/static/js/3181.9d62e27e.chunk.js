"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,3181,5841,8222],{43181:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var r=t(89379),n=t(65043),s=(t(50445),t(61976)),l=t(26240),o=t(71716),i=t(72882),d=t(95540),c=t(63471),h=t(57566),m=t(57556),u=t(266),p=t(46946),v=t(94496),x=t(42788),A=t(74802),f=t(70579);const j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},g=e=>{let{isOpen:a,onClose:t,onSubmit:s,updateData:l,onEdit:d,resetData:c}=e;const[h,g]=(0,n.useState)({role:"",description:""}),[b,C]=(0,n.useState)(""),y=()=>{g({role:"",description:""}),c(),t()},k=e=>{g((0,r.A)((0,r.A)({},h),{},{[e.target.name]:e.target.value})),"role"===e.target.name&&w(e.target.value)};(0,n.useEffect)((()=>{void 0!==l&&g({role:null===l||void 0===l?void 0:l.name,description:null===l||void 0===l?void 0:l.description})}),[l]);const w=e=>{/^[A-Za-z][A-Za-z0-9]{1,}$/.test(e)?C(""):C("Username must start with a letter, be at least 3 characters long, and contain no spaces.")};return(0,f.jsx)(m.A,{open:a,onClose:(e,a)=>{"backdropClick"!==a&&"escapeKeyDown"!==a&&y()},disableEscapeKeyDown:!0,closeAfterTransition:!0,BackdropComponent:u.A,BackdropProps:{timeout:500},children:(0,f.jsxs)(p.A,{sx:j,children:[(0,f.jsxs)(p.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,f.jsx)(v.A,{variant:"h6",children:l?"Edit Role":"Add New Role"}),(0,f.jsx)(o.A,{onClick:y,children:(0,f.jsx)(A.A,{})})]}),(0,f.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b?alert("Please fix the errors before submitting."):(l?d(h):s(h),t())},children:[(0,f.jsx)(x.A,{fullWidth:!0,label:"role",name:"role",value:h.role,onChange:k,margin:"normal",required:!0,error:!!b,helperText:b}),(0,f.jsx)(x.A,{fullWidth:!0,label:"description",name:"description",type:"text",value:h.description,onChange:k,margin:"normal",required:!0}),(0,f.jsxs)(p.A,{display:"flex",justifyContent:"flex-end",mt:2,children:[(0,f.jsx)(i.A,{onClick:y,color:"secondary",sx:{mr:2},children:"Close"}),(0,f.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",children:l?"Save Changes":"Add Role"})]})]})]})})};var b=t(57488),C=(t(92342),t(77265));const y=()=>{const[e,a]=(0,n.useState)(!1),[t,m]=(0,n.useState)(null),[u,p]=(0,n.useState)([]),v=(0,l.A)();(0,n.useEffect)((()=>{(async()=>{try{var e;const a=await C.A.get("/Admin/roles"),t=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.sort(((e,a)=>e.name.localeCompare(a.name)))).map(((e,a)=>(0,r.A)((0,r.A)({},e),{},{orderNumber:a+1})));p(t)}catch(a){console.error("fetchrole>>",a.message),b.oR.error("Internal Server Error on Role Fetch;")}})()}),[]);const x=[{field:"orderNumber",headerName:"ID",flex:1},{field:"name",headerName:"Role",flex:1},{field:"actions",headerName:"Actions",width:150,renderCell:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.A,{"aria-label":"edit",className:"text-info",children:(0,f.jsx)(d.A,{})}),(0,f.jsx)(o.A,{color:"danger","aria-label":"delete",className:"text-danger",children:(0,f.jsx)(c.A,{})})]})}];return(0,f.jsxs)("div",{className:"user-management-container",children:[(0,f.jsx)("h1",{className:"hed",children:"Role Management"}),(0,f.jsx)(i.A,{variant:"contained",color:"light"===v.palette.mode?"primary":"success",startIcon:(0,f.jsx)(h.A,{}),onClick:()=>a(!0),children:"Add Role"}),(0,f.jsx)(g,{isOpen:e,onClose:()=>a(!1),onSubmit:async e=>{},onEdit:e=>{},updateData:t,resetData:async()=>{m(null)}}),(0,f.jsx)("div",{className:"data-grid-container",children:(0,f.jsx)(s.z,{rows:u,columns:x,autoHeight:!0,sx:{minWidth:320}})}),(0,f.jsx)(b.N9,{})]})}},50445:()=>{},57566:(e,a,t)=>{var r=t(24994);a.A=void 0;var n=r(t(40039)),s=t(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd")},63471:(e,a,t)=>{var r=t(24994);a.A=void 0;var n=r(t(40039)),s=t(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},74802:(e,a,t)=>{var r=t(24994);a.A=void 0;var n=r(t(40039)),s=t(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},92342:()=>{},95540:(e,a,t)=>{var r=t(24994);a.A=void 0;var n=r(t(40039)),s=t(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=3181.9d62e27e.chunk.js.map