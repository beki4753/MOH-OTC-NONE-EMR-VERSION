"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,5841,6095,8222],{8795:(e,o,t)=>{t.r(o),t.d(o,{default:()=>I});var l=t(80045),a=t(89379),n=t(65043),r=t(26240),d=t(71716),i=t(19252),s=t(94496),c=t(65204),u=t(72882),p=t(95540),m=t(63471),f=t(61976),h=t(11238),x=t(33086),v=t(62954),A=t(77265),g=t(57488),b=(t(92342),t(83074)),y=t(66974),k=t(16005),C=t(70579);const M=["HospitalName"],j=(0,b.N8)(),I=()=>{const[e,o]=(0,n.useState)([]),[t,b]=(0,n.useState)([]),[I,O]=(0,n.useState)(!1),[S,w]=(0,n.useState)(!1),[W,L]=(0,n.useState)(null),[N,P]=(0,n.useState)(!1),[D,E]=(0,n.useState)(!1),[z,R]=(0,n.useState)(""),B=(0,r.A)(),G=()=>{E(!1),R("")};(0,n.useEffect)((()=>{(async()=>{try{const e=await A.A.get("/Collection/collector");b((null===e||void 0===e?void 0:e.data)<=0?new Array:null===e||void 0===e?void 0:e.data)}catch(o){var e;console.error(o),g.oR.error((null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.data)||"Failde To Load list.")}})()}),[I]);const H=[{field:"employeeID",headerName:"Employee ID",flex:1},{field:"employeeName",headerName:"Employee Name",flex:1},{field:"employeePhone",headerName:"Phone",flex:1},{field:"employeeEmail",headerName:"Email",flex:1},{field:"assignedAs",headerName:"Assigned As",flex:1},{field:"assignedBy",headerName:"Assigned By",flex:1},{field:"contactMethod",headerName:"Contact Method",flex:1},{field:"actions",headerName:"Actions",width:130,renderCell:e=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.A,{onClick:()=>(e=>{L(null===e||void 0===e?void 0:e.row),w(!0)})(e),color:"info","aria-label":"edit",className:"text-info",children:(0,C.jsx)(p.A,{})}),(0,C.jsx)(d.A,{color:"error",onClick:()=>(e=>{var o;R(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.employeeID),E(!0)})(e),"aria-label":"delete",className:"text-danger",children:(0,C.jsx)(m.A,{})})]})}];return(0,C.jsxs)(i.A,{children:[(0,C.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:"Employee ID - Hospital Mapping"}),(0,C.jsxs)(c.A,{sx:{padding:2,marginBottom:2},children:[(0,C.jsx)("input",{accept:".xlsx, .xls",type:"file",onChange:e=>{(e=>{try{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=t=>{const n=new Uint8Array(t.target.result),r=h.LF(n,{type:"array"}),d=r.SheetNames[0],i=r.Sheets[d],s=h.Wp.sheet_to_json(i).map((e=>{let{HospitalName:o}=e,t=(0,l.A)(e,M);return(0,a.A)({assignedLocation:o},t)})).map(((e,o)=>(0,a.A)((0,a.A)({},e),{},{id:o+1})));o(s),e.target.value=null},n.readAsArrayBuffer(t)}catch(t){console.error(t)}})(e)},style:{display:"none"},id:"upload-excel"}),(0,C.jsx)("label",{htmlFor:"upload-excel",children:(0,C.jsx)(u.A,{variant:"contained",color:"light"===B.palette.mode?"primary":"secondary",component:"span",startIcon:(0,C.jsx)(v.A,{}),children:"Upload Excel"})}),(0,C.jsx)(d.A,{onClick:()=>{o([])},color:"error",sx:{marginLeft:2},children:(0,C.jsx)(x.A,{})}),(0,C.jsx)(u.A,{variant:"contained",color:"light"===B.palette.mode?"primary":"secondary",onClick:async()=>{try{await A.A.post("/Collection/register_collector",{employeeID:e.map((e=>null===e||void 0===e?void 0:e.employeeID)),employeeName:e.map((e=>null===e||void 0===e?void 0:e.employeeName)),employeePhone:e.map((e=>null===e||void 0===e?void 0:e.employeePhone)),employeeEmail:e.map((e=>null===e||void 0===e?void 0:e.employeeEmail)),assignedAs:e.map((e=>null===e||void 0===e?void 0:e.assignedAs)),assignedBy:e.map((e=>null===e||void 0===e?void 0:e.assignedBy)),contactMethod:e.map((e=>null===e||void 0===e?void 0:e.contactMethod)),user:null===j||void 0===j?void 0:j.name});g.oR.success("Upload Successful."),O((e=>!e)),o([])}catch(a){var t,l;console.error("Upload error:",a),g.oR.error((null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.data.length)<=50?null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.data:"File Upload Failed. please check if empty column exists.")}},sx:{marginLeft:2},disabled:0===e.length,children:"Upload to Database"}),(0,C.jsx)(s.A,{variant:"h6",sx:{m:"15px 0 5px 20px"},children:e.length>0?"Viewing from File":"Viewing Registered"})]}),(0,C.jsx)(c.A,{sx:{height:400},children:(0,C.jsx)(f.z,{rows:e.length<=0?t:e,columns:H,autoHeight:!0,sx:{minWidth:320},components:{ErrorOverlay:()=>(g.oR.error("Id Missing"),(0,C.jsx)("div",{style:{padding:"20px",color:"red"},children:"An error occurred: Id Missing"}))}})}),(0,C.jsx)(y.A,{open:S,onClose:()=>w(!1),staffData:W,onSave:async t=>{try{if(P(!0),(null===e||void 0===e?void 0:e.length)>0){const l=e.map((e=>e.id===t.id?(0,a.A)((0,a.A)({},e),t):e));o(l)}}catch(r){var l,n;console.error("Save Change Error: ",r),g.oR.error((null===r||void 0===r||null===(l=r.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||"Internal Server Error.")}finally{P(!1)}},isloading:N}),(0,C.jsx)(k.A,{isOpen:D,onClose:G,onConfirm:t=>{"Delete"===(null===t||void 0===t?void 0:t.message)&&(null===e||void 0===e?void 0:e.length)>0&&o((e=>e.filter((e=>e.employeeID!==(null===t||void 0===t?void 0:t.userData))))),G()},userData:z}),(0,C.jsx)(g.N9,{})]})}},16005:(e,o,t)=>{t.d(o,{A:()=>h});t(65043);var l=t(26240),a=t(57556),n=t(266),r=t(46946),d=t(94496),i=t(71716),s=t(72882),c=t(97334),u=t(74802),p=t(98348),m=t(70579);const f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,boxShadow:24,p:3,borderRadius:2,textAlign:"center"},h=e=>{let{isOpen:o,onClose:t,onConfirm:h,userData:x,userRole:v,loading:A}=e;const g=(0,l.A)();return(0,m.jsx)(a.A,{open:o,onClose:(e,o)=>{"backdropClick"!==o&&"escapeKeyDown"!==o&&t()},disableEscapeKeyDown:!0,closeAfterTransition:!0,BackdropComponent:n.A,BackdropProps:{timeout:500},"aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-description",children:(0,m.jsxs)(r.A,{sx:f,bgcolor:"light"===g.palette.mode?g.palette.background.paper:g.palette.background.default,children:[(0,m.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,m.jsxs)(d.A,{variant:"h6",fontWeight:"bold",id:"confirmation-modal-title",sx:{color:e=>"light"===e.palette.mode?e.palette.primary.main:e.palette.info.light,display:"flex",alignItems:"center"},children:[(0,m.jsx)(p.A,{sx:{fontSize:28,mr:1}}),"Please Confirm"]}),(0,m.jsx)(i.A,{onClick:t,color:"error","aria-label":"close modal",children:(0,m.jsx)(u.A,{})})]}),(0,m.jsxs)(d.A,{variant:"body1",textAlign:"center",mt:2,id:"confirmation-modal-description",children:["Are you sure you want to delete the"," ",v?'role "'.concat(v,'"'):"user ",(0,m.jsx)("strong",{children:x}),"?"]}),(0,m.jsxs)(r.A,{display:"flex",justifyContent:"center",mt:3,children:[(0,m.jsx)(s.A,{variant:"contained",color:"light"===g.palette.mode?"primary":"secondary",onClick:()=>{h({userData:x,message:"Delete"})},sx:{mx:1},"aria-label":"confirm deletion",children:A?(0,m.jsx)(c.A,{size:24,color:"inherit"}):"Confirm"}),(0,m.jsx)(s.A,{variant:"outlined",color:"error",onClick:t,sx:{mx:1},"aria-label":"cancel deletion",children:"Cancel"})]})]})})}},19252:(e,o,t)=>{t.d(o,{A:()=>k});var l=t(98587),a=t(58168),n=t(65043),r=t(58387),d=t(72372),i=t(98610),s=t(67598),c=t(52900),u=t(46060),p=t(80315),m=t(70579);const f=["className","component","disableGutters","fixed","maxWidth","classes"],h=(0,p.A)(),x=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o["maxWidth".concat((0,s.A)(String(t.maxWidth)))],t.fixed&&o.fixed,t.disableGutters&&o.disableGutters]}}),v=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:h});var A=t(6803),g=t(34535),b=t(98206);const y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:o=x,useThemeProps:t=v,componentName:c="MuiContainer"}=e,u=o((e=>{let{theme:o,ownerState:t}=e;return(0,a.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}})}),(e=>{let{theme:o,ownerState:t}=e;return t.fixed&&Object.keys(o.breakpoints.values).reduce(((e,t)=>{const l=t,a=o.breakpoints.values[l];return 0!==a&&(e[o.breakpoints.up(l)]={maxWidth:"".concat(a).concat(o.breakpoints.unit)}),e}),{})}),(e=>{let{theme:o,ownerState:t}=e;return(0,a.A)({},"xs"===t.maxWidth&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[o.breakpoints.up(t.maxWidth)]:{maxWidth:"".concat(o.breakpoints.values[t.maxWidth]).concat(o.breakpoints.unit)}})})),p=n.forwardRef((function(e,o){const n=t(e),{className:p,component:h="div",disableGutters:x=!1,fixed:v=!1,maxWidth:A="lg"}=n,g=(0,l.A)(n,f),b=(0,a.A)({},n,{component:h,disableGutters:x,fixed:v,maxWidth:A}),y=((e,o)=>{const{classes:t,fixed:l,disableGutters:a,maxWidth:n}=e,r={root:["root",n&&"maxWidth".concat((0,s.A)(String(n))),l&&"fixed",a&&"disableGutters"]};return(0,i.A)(r,(e=>(0,d.Ay)(o,e)),t)})(b,c);return(0,m.jsx)(u,(0,a.A)({as:h,ownerState:b,className:(0,r.A)(y.root,p),ref:o},g))}));return p}({createStyledComponent:(0,g.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o["maxWidth".concat((0,A.A)(String(t.maxWidth)))],t.fixed&&o.fixed,t.disableGutters&&o.disableGutters]}}),useThemeProps:e=>(0,b.b)({props:e,name:"MuiContainer"})}),k=y},33086:(e,o,t)=>{t.d(o,{A:()=>n});var l=t(66734),a=t(70579);const n=(0,l.A)([(0,a.jsx)("path",{d:"M3 19.1h18V4.95H3zm5-9.74 1.41-1.41L12 10.54l2.59-2.59L16 9.36l-2.59 2.59L16 14.54l-1.41 1.41L12 13.36l-2.59 2.59L8 14.54l2.59-2.59z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H3V5h18zM9.41 15.95 12 13.36l2.59 2.59L16 14.54l-2.59-2.59L16 9.36l-1.41-1.41L12 10.54 9.41 7.95 8 9.36l2.59 2.59L8 14.54z"},"1")],"CancelPresentationTwoTone")},62954:(e,o,t)=>{var l=t(24994);o.A=void 0;var a=l(t(40039)),n=t(70579);o.A=(0,a.default)((0,n.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},63471:(e,o,t)=>{var l=t(24994);o.A=void 0;var a=l(t(40039)),n=t(70579);o.A=(0,a.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},66974:(e,o,t)=>{t.d(o,{A:()=>x});var l=t(89379),a=t(65043),n=t(26240),r=t(83462),d=t(4219),i=t(97368),s=t(42788),c=t(94814),u=t(92064),p=t(72882),m=t(97334),f=t(70579);const h=["EMAIL","SMS"],x=e=>{let{open:o,onClose:t,staffData:x,onSave:v,isloading:A}=e;const[g,b]=(0,a.useState)((()=>void 0!==x?(0,l.A)({},x):{})),y=(0,n.A)();(0,a.useEffect)((()=>{b(x)}),[x]);const k=e=>{b((o=>(0,l.A)((0,l.A)({},o),{},{[e.target.name]:e.target.value})))};return(0,f.jsxs)(r.A,{open:o,onClose:(e,o)=>{"backdropClick"!==o&&"escapeKeyDown"!==o&&t()},maxWidth:"sm",disableEnforceFocus:!0,fullWidth:!0,children:[(0,f.jsx)(d.A,{children:"Edit Staff"}),(0,f.jsxs)(i.A,{dividers:!0,children:[(0,f.jsx)(s.A,{margin:"dense",label:"Employee ID",name:"employeeID",fullWidth:!0,value:(null===g||void 0===g?void 0:g.employeeID)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{margin:"dense",label:"Name",name:"employeeName",fullWidth:!0,value:(null===g||void 0===g?void 0:g.employeeName)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{margin:"dense",label:"Phone",name:"employeePhone",fullWidth:!0,value:(null===g||void 0===g?void 0:g.employeePhone)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{margin:"dense",label:"Email",name:"employeeEmail",fullWidth:!0,value:(null===g||void 0===g?void 0:g.employeeEmail)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{margin:"dense",label:"Assigned As",name:"assignedAs",fullWidth:!0,value:(null===g||void 0===g?void 0:g.assignedAs)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{margin:"dense",label:"Assigned By",name:"assignedBy",fullWidth:!0,value:(null===g||void 0===g?void 0:g.assignedBy)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}}}),(0,f.jsx)(s.A,{select:!0,margin:"dense",label:"Contact Method",name:"contactMethod",fullWidth:!0,value:(null===g||void 0===g?void 0:g.contactMethod)||"",onChange:k,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===y.palette.mode?"#fff":"#000"},color:"dark"===y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===y.palette.mode?"#fff":"#000"}}},children:h.map((e=>(0,f.jsx)(c.A,{value:e,children:e},e)))})]}),(0,f.jsxs)(u.A,{children:[(0,f.jsx)(p.A,{onClick:t,color:"error",children:"Cancel"}),(0,f.jsx)(p.A,{onClick:()=>{v(g),t()},variant:"contained",color:"light"===y.palette.mode?"primary":"secondary",children:A?(0,f.jsx)(m.A,{size:24,color:"inherit"}):"Save"})]})]})}},74802:(e,o,t)=>{var l=t(24994);o.A=void 0;var a=l(t(40039)),n=t(70579);o.A=(0,a.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},95540:(e,o,t)=>{var l=t(24994);o.A=void 0;var a=l(t(40039)),n=t(70579);o.A=(0,a.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98348:(e,o,t)=>{var l=t(24994);o.A=void 0;var a=l(t(40039)),n=t(70579);o.A=(0,a.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")}}]);
//# sourceMappingURL=6095.271ea7e8.chunk.js.map