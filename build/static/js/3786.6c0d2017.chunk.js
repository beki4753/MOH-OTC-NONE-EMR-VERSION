/*! For license information please see 3786.6c0d2017.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,3786,5841,8222],{13467:(e,t,o)=>{o.d(t,{A:()=>r});const r=(0,o(77784).A)("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]])},16005:(e,t,o)=>{o.d(t,{A:()=>h});o(65043);var r=o(26240),a=o(57556),l=o(266),i=o(46946),n=o(94496),d=o(71716),s=o(72882),c=o(97334),u=o(74802),m=o(98348),p=o(70579);const f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,boxShadow:24,p:3,borderRadius:2,textAlign:"center"},h=e=>{let{isOpen:t,onClose:o,onConfirm:h,userData:v,userRole:y,loading:x}=e;const A=(0,r.A)();return(0,p.jsx)(a.A,{open:t,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&o()},disableEscapeKeyDown:!0,closeAfterTransition:!0,BackdropComponent:l.A,BackdropProps:{timeout:500},"aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-description",children:(0,p.jsxs)(i.A,{sx:f,bgcolor:"light"===A.palette.mode?A.palette.background.paper:A.palette.background.default,children:[(0,p.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)(n.A,{variant:"h6",fontWeight:"bold",id:"confirmation-modal-title",sx:{color:e=>"light"===e.palette.mode?e.palette.primary.main:e.palette.info.light,display:"flex",alignItems:"center"},children:[(0,p.jsx)(m.A,{sx:{fontSize:28,mr:1}}),"Please Confirm"]}),(0,p.jsx)(d.A,{onClick:o,color:"error","aria-label":"close modal",children:(0,p.jsx)(u.A,{})})]}),(0,p.jsxs)(n.A,{variant:"body1",textAlign:"center",mt:2,id:"confirmation-modal-description",children:["Are you sure you want to delete the"," ",y?'role "'.concat(y,'"'):"user ",(0,p.jsx)("strong",{children:v}),"?"]}),(0,p.jsxs)(i.A,{display:"flex",justifyContent:"center",mt:3,children:[(0,p.jsx)(s.A,{variant:"contained",color:"light"===A.palette.mode?"primary":"secondary",onClick:()=>{h({userData:v,message:"Delete"})},sx:{mx:1},"aria-label":"confirm deletion",children:x?(0,p.jsx)(c.A,{size:24,color:"inherit"}):"Confirm"}),(0,p.jsx)(s.A,{variant:"outlined",color:"error",onClick:o,sx:{mx:1},"aria-label":"cancel deletion",children:"Cancel"})]})]})})}},26533:(e,t,o)=>{o.d(t,{A:()=>r});const r=(0,o(77784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},54007:(e,t,o)=>{o.d(t,{f:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{removePunctuation:o=!1,keepSpaces:r=!0}=t;return"string"!==typeof e&&(e=""),e.normalize("NFC").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(o?/[^\w\s]|_/g:"","").replace(/\s+/g,r?" ":"").trim()}},74802:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),l=o(70579);t.A=(0,a.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},77784:(e,t,o)=>{o.d(t,{A:()=>m});var r=o(89379),a=o(80045),l=o(65043);const i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,o)=>o?o.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.filter(((e,t,o)=>Boolean(e)&&""!==e.trim()&&o.indexOf(e)===t)).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],c=(0,l.forwardRef)(((e,t)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:m="",children:p,iconNode:f}=e,h=(0,a.A)(e,s);return(0,l.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},d),{},{width:i,height:i,stroke:o,strokeWidth:u?24*Number(c)/Number(i):c,className:n("lucide",m)},!p&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...f.map((e=>{let[t,o]=e;return(0,l.createElement)(t,o)})),...Array.isArray(p)?p:[p]])})),u=["className"],m=(e,t)=>{const o=(0,l.forwardRef)(((o,d)=>{let{className:s}=o,m=(0,a.A)(o,u);return(0,l.createElement)(c,(0,r.A)({ref:d,iconNode:t,className:n("lucide-".concat((p=i(e),p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},m));var p}));return o.displayName=i(e),o}},83786:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j,isEmpty:()=>C});var r=o(89379),a=o(65043),l=o(26240),i=o(71716),n=o(65204),d=o(94496),s=o(42788),c=o(94814),u=o(46946),m=o(72882),p=o(77265),f=o(54007),h=o(57488),v=(o(92342),o(61976)),y=o(97334),x=o(26533),A=o(13467),g=o(16005),b=o(70579);const k={type:"",amount:"",time:""},C=e=>null===e||void 0===e||"string"===typeof e&&""===e.trim()||"number"===typeof e&&isNaN(e),j=()=>{const[e,t]=(0,a.useState)(k),[o,j]=(0,a.useState)(k),[w,I]=(0,a.useState)([]),[N,S]=(0,a.useState)([]),[O,M]=(0,a.useState)([]),[T,z]=(0,a.useState)(!0),[L,P]=(0,a.useState)(!1),[W,E]=(0,a.useState)(!1),[D,R]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[U,q]=(0,a.useState)({}),[_,H]=(0,a.useState)(!1),K=(0,l.A)();(0,a.useEffect)((()=>{N.length>0&&(async()=>{try{var e;const t=await p.A.get("/Setting/paymentType-limit"),o=((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||[]).map(((e,t)=>{const o=N.find((t=>t.id===e.type));return{id:t+1,mainId:e.id,type:(null===o||void 0===o?void 0:o.type)||"Type ID: ".concat(e.type),amount:e.amount,time:e.time,createdBy:e.createdBy||"-"}}));M(o)}catch(t){console.error("Error loading limits:",t)}finally{z(!1)}})()}),[N,D]);(0,a.useEffect)((()=>{(async e=>{try{const r=await p.A.get(e),a=await p.A.get("/Lookup/payment-type-description");if(200===(null===r||void 0===r?void 0:r.status)||201===(null===r||void 0===r?void 0:r.status)){var t;const e=null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.map((e=>e.type)).filter((e=>{var t;return!(null!==(t=(0,f.f)(e))&&void 0!==t&&t.includes("all"))}));I(e)}var o;200===a.status&&S(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.data)}catch(r){console.error(r.message)}})("/Lookup/payment-type")}),[]);const V=e=>{try{const{name:o,value:a}=e.target,l=(0,f.f)(o);let i=a;if(["amount","time"].includes(l)){const e=Math.abs(Number(a));i="amount"===l?parseFloat(e):parseInt(e)}t((e=>(0,r.A)((0,r.A)({},e),{},{[o]:i}))),j((e=>(0,r.A)((0,r.A)({},e),{},{[o]:""})))}catch(o){console.error("This is handle change error: ",o)}},Z=async e=>{try{if("Delete"===(null===e||void 0===e?void 0:e.message)){H(!0);const e=await p.A.delete("/Setting/paymentType-limit",{headers:{"Content-Type":"application/json"},data:(null===U||void 0===U?void 0:U.mainId)||0});var t;if(200===(null===e||void 0===e?void 0:e.status))return h.oR.success((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.msg)||"Deleted Successfully."),q({}),F(!1),void R((e=>!e))}q(e),F(!0)}catch(a){var o,r;console.error("This is handle delete error: ",a),h.oR.error((null===a||void 0===a||null===(o=a.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.msg)||"Internal server error.")}finally{H(!1)}},$=[{field:"id",headerName:"#",width:60},{field:"type",headerName:"Payment Type",flex:1},{field:"amount",headerName:"Amount",flex:1},{field:"time",headerName:"Time Limit",flex:1},{field:"createdBy",headerName:"Created By",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.A,{onClick:()=>(async e=>{try{P(!0),t(null===e||void 0===e?void 0:e.row)}catch(o){console.error("This is handle edit error: ",o)}})(e),"aria-label":"edit",className:"text-info",children:(0,b.jsx)(x.A,{})}),(0,b.jsx)(i.A,{onClick:()=>Z(e.row),color:"danger","aria-label":"delete",className:"text-danger",children:(0,b.jsx)(A.A,{})})]})}];return(0,b.jsxs)(n.A,{elevation:3,sx:{p:4,mx:"auto",mt:5,marginInline:"15px"},children:[(0,b.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:"Set Payment Type Limit"}),(0,b.jsx)(s.A,{select:!0,fullWidth:!0,label:"Payment Type",name:"type",value:null===e||void 0===e?void 0:e.type,onChange:V,sx:{mb:3},required:!0,error:!(null===o||void 0===o||!o.type),helperText:null===o||void 0===o?void 0:o.type,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},color:"dark"===K.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===K.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===K.palette.mode?"#fff":"#000"}}},children:w.map((e=>(0,b.jsx)(c.A,{value:e,children:e},e)))}),(0,b.jsx)(s.A,{fullWidth:!0,label:"Amount",type:"number",name:"amount",value:null===e||void 0===e?void 0:e.amount,onWheel:e=>e.target.blur(),onChange:V,sx:{mb:3},required:!0,error:!(null===o||void 0===o||!o.amount),helperText:null===o||void 0===o?void 0:o.amount,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},color:"dark"===K.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===K.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===K.palette.mode?"#fff":"#000"}}}}),(0,b.jsx)(s.A,{fullWidth:!0,label:"Time Limit (in Hours)",type:"number",name:"time",value:null===e||void 0===e?void 0:e.time,onChange:V,onWheel:e=>e.target.blur(),sx:{mb:3},required:!0,error:!(null===o||void 0===o||!o.time),helperText:null===o||void 0===o?void 0:o.time,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===K.palette.mode?"#fff":"#000"},color:"dark"===K.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===K.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===K.palette.mode?"#fff":"#000"}}}}),(0,b.jsxs)(u.A,{textAlign:"right",children:[(0,b.jsx)(m.A,{variant:"outlined",color:"error",onClick:()=>{t(k),P(!1)},children:"cancel"}),(0,b.jsx)(m.A,{variant:"contained",sx:{marginLeft:"10px"},color:"light"===K.palette.mode?"primary":"secondary",onClick:()=>(async()=>{try{var o;if(Object.values(e||{}).some(C))return h.oR.info("Please fill all fields."),void Object.entries(e||{}).forEach((e=>{let[t,o]=e;C(o)&&j((e=>(0,r.A)((0,r.A)({},e),{},{[t]:"Please fill this field."})))}));E(!0);const i={id:L?null===e||void 0===e?void 0:e.mainId:null===(o=N.filter((t=>(0,f.f)(null===t||void 0===t?void 0:t.type)===(0,f.f)(null===e||void 0===e?void 0:e.type)))[0])||void 0===o?void 0:o.id,type:e.type,amount:parseFloat(e.amount),time:parseInt(e.time)};if(L){const e=await p.A.put("/Setting/paymentType-limit",i);var a;200===(null===e||void 0===e?void 0:e.status)&&(h.oR.success((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg)||"Updated successfully."),t(k),P(!1),R((e=>!e)))}else{const e=await p.A.post("/Setting/paymentType-limit",i);var l;200!==(null===e||void 0===e?void 0:e.status)&&201!==(null===e||void 0===e?void 0:e.status)||(h.oR.success((null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.msg)||"Created successfully."),t(k),R((e=>!e)))}}catch(d){var i,n;console.error("Error saving:",d),h.oR.error((null===d||void 0===d||null===(i=d.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.msg)||"Internal Server error.")}finally{E(!1)}})(),children:W?(0,b.jsx)(y.A,{size:24,color:"inherit"}):(0,b.jsx)(b.Fragment,{children:L?"Update":"Save"})})]}),(0,b.jsx)(h.N9,{}),(0,b.jsx)(d.A,{variant:"h6",mt:6,mb:2,children:"Existing Payment Type Limits"}),(0,b.jsx)(u.A,{sx:{height:400,width:"100%",mt:2},children:(0,b.jsx)(v.z,{rows:O,columns:$,loading:T,autoHeight:!0,sx:{minWidth:320}})}),(0,b.jsx)(g.A,{isOpen:B,onClose:()=>F(!1),userData:null===U||void 0===U?void 0:U.type,onConfirm:e=>Z(e),showUser:!1,loading:_})]})}},92342:()=>{},98348:(e,t,o)=>{var r=o(24994);t.A=void 0;var a=r(o(40039)),l=o(70579);t.A=(0,a.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")}}]);
//# sourceMappingURL=3786.6c0d2017.chunk.js.map