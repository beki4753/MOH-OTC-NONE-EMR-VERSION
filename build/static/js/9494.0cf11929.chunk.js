"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,5841,8222,9494],{48292:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D,renderETDateAtCell:()=>y});var n=a(80045),o=a(89379),r=a(65043),l=a(26240),i=a(46946),d=a(65204),s=a(94496),u=a(8591),c=a(42788),m=a(72882),f=a(97334),h=a(61976),p=a(57488),v=(a(92342),a(77265)),x=a(81451),g=a(70579);const b=["rowID","patientFirstName","patientMiddleName","patientLastName","patientSpouseFirstName","patientSpouselastName"],N={mrn:"",fname:"",fatname:"",gfatname:"",mobile:""},y=e=>{try{if(!e)return"";const t=new Date(e),a=new Date(t.getTime()+108e5),n=x.N.fromEuropeanDate(a);return"".concat(n.year,"-").concat(String(n.month).padStart(2,"0"),"-").concat(String(n.date).padStart(2,"0"))}catch(t){return console.error("Date conversion error:",t),""}},A=(e,t)=>{try{return"Reset"===t.name?N:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values})}catch(a){console.error("State Update Error: ",a)}},k=(e,t)=>{try{return"Reset"===t.name?N:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values})}catch(a){console.error("State Update Error: ",a)}},M=async e=>{try{return e.length>0?e.map(((e,t)=>{let{rowID:a,patientFirstName:r,patientMiddleName:l,patientLastName:i,patientSpouseFirstName:d,patientSpouselastName:s}=e,u=(0,n.A)(e,b);return(0,o.A)({id:t+1,patientFName:r+" "+l+" "+i,patientSpouseName:d+" "+s},u)})):[]}catch(t){return console.error("This is the Data Modification Error: ",t),[]}},D=()=>{const e=(0,l.A)(),[t,a]=(0,r.useReducer)(A,N),[n,o]=(0,r.useReducer)(k,N),[x,b]=(0,r.useState)(!1),[D,C]=(0,r.useState)([]),[O,I]=(0,r.useState)([]),[w,j]=(0,r.useState)(0),[S,P]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const n=await v.A.put("/Patient/get-patient-info",{currentTime:new Date});if(200===(null===n||void 0===n?void 0:n.status)){var e,t,a;const o=await M(null===n||void 0===n||null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.value);C(o),j((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.count)||0)}}catch(n){console.error("This is Fetch Data Error: ",n)}})()}),[]),(0,r.useEffect)((()=>{P(F())}),[t]);const T=[{field:"patientCardNumber",headerName:"Patient MRN",flex:1},{field:"patientFName",headerName:"Patient Name",flex:1},{field:"patientMotherName",headerName:"Mother Name",flex:1},{field:"patientGender",headerName:"Gender",flex:1,maxWidth:"10px"},{field:"patientDOB",headerName:"Date of Birth",flex:1,renderCell:e=>{var t;return y(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.patientDOB)}},{field:"patientPhoneNumber",headerName:"Mobile",flex:1},{field:"appointment",headerName:"Provider",flex:1},{field:"department",headerName:"Department",flex:1},{field:"patientSpouseName",headerName:"Spouse Name",flex:1},{field:"patientVisitingDate",headerName:"Visiting Date",flex:1,renderCell:e=>{var t;return y(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.patientVisitingDate)}}],R=e=>{try{"fname"===e.target.name||"fatname"===e.target.name||"gfatname"===e.target.name?L(e.target.name,e.target.value):"mrn"===e.target.name?E(e.target.name,e.target.value):z(e.target.name,e.target.value),a({name:e.target.name,values:e.target.value})}catch(t){console.error("The Handle Chnage Error: ",t),p.oR.error("Some thing went wrong.")}},E=(e,t)=>{!/^[0-9a-zA-Z\s\_\-]{5,}$/.test(t)&&(null===t||void 0===t?void 0:t.length)>0?o({name:e,values:"Please enter valid MRN (5+ digits)."}):o({name:e,values:""})},F=()=>t.fname.length>0||t.fatname.length>0||t.gfatname.length>0||(null===t||void 0===t?void 0:t.mrn.length)>0||(null===t||void 0===t?void 0:t.mobile.length)>0||(I([]),!1),W=async()=>{try{if(b(!0),t.fname.length<=0&&t.fatname.length<=0&&t.gfatname.length<=0&&(null===t||void 0===t?void 0:t.mrn.length)<=0&&(null===t||void 0===t?void 0:t.mobile.length)<=0)return void p.oR.info("Please fill at least one of field to search.");if(Object.values(n).some((e=>e.length>0)))return void p.oR.info("Please fix the errors first.");const o=await(async(e,t,a,n,o)=>{try{const r={currentTime:new Date};return e&&(r.patientLastName=e),t&&(r.patientMiddleName=t),a&&(r.patientFirstName=a),n&&(r.patientPhone=n),o&&(r.patientCardNumber=o),r}catch(r){return console.error("This is the Conditional Rendering Error: ",r),{}}})(t.gfatname,t.fatname,t.fname,t.mobile,null===t||void 0===t?void 0:t.mrn),r=await v.A.put("/Patient/get-patient-info",o);if(200===(null===r||void 0===r?void 0:r.status)){var e,a;const t=await M(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.value);t.length>0?I(t):(p.oR.info("Data not found!"),I([]))}}catch(l){var o,r;console.error("The Searching Error: ",l),p.oR.error((null===l||void 0===l||null===(o=l.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message)||"Internal server error.")}finally{b(!1)}},L=(e,t)=>{!/^[a-zA-Z\u1200-\u137F]{3,}$/.test(t)&&t.length>0?o({name:e,values:"Name must be only letters, at least 3 characters long, and contain no spaces."}):o({name:e,values:""})},z=(e,t)=>{!/^(?:\+251|09|07)\d+$/.test(t)&&t.length>0?o({name:e,values:"Phone number must start with +251, 09, or 07 and contain only numbers."}):t.startsWith("+251")&&13!==t.length?o({name:e,values:"Phone number starting with +251 must have 13 digits."}):(t.startsWith("09")||t.startsWith("07"))&&10!==t.length?o({name:e,values:"Phone number starting with 09 or 07 must have 10 digits."}):o({name:e,values:""})};return(0,g.jsxs)("div",{children:[(0,g.jsx)(i.A,{sx:{mx:"auto",p:{xs:2,sm:3},mt:4,borderRadius:2,boxShadow:3,marginInline:"15px"},children:(0,g.jsxs)(d.A,{elevation:1,sx:{p:{xs:2,sm:3}},children:[(0,g.jsx)(s.A,{variant:"h6",sx:{mb:2,borderBottom:"2px solid ".concat(e.palette.primary.main),display:"inline-block",fontWeight:600},children:"Patient Search"}),(0,g.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"MRN",value:null===t||void 0===t?void 0:t.mrn,name:"mrn",onChange:R,error:!(null===n||void 0===n||!n.mrn),helperText:null===n||void 0===n?void 0:n.mrn,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"First Name",value:null===t||void 0===t?void 0:t.fname,name:"fname",onChange:R,error:!(null===n||void 0===n||!n.fname),helperText:null===n||void 0===n?void 0:n.fname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Father Name",value:null===t||void 0===t?void 0:t.fatname,name:"fatname",onChange:R,error:!(null===n||void 0===n||!n.fatname),helperText:null===n||void 0===n?void 0:n.fatname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Grand Father Name",value:null===t||void 0===t?void 0:t.gfatname,name:"gfatname",onChange:R,error:!(null===n||void 0===n||!n.gfatname),helperText:null===n||void 0===n?void 0:n.gfatname,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,g.jsx)(c.A,{label:"Mobile",value:null===t||void 0===t?void 0:t.mobile,name:"mobile",onChange:R,error:!(null===n||void 0===n||!n.mobile),helperText:null===n||void 0===n?void 0:n.mobile,fullWidth:!0,InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===e.palette.mode?"#fff":"#000"},color:"dark"===e.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===e.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===e.palette.mode?"#fff":"#000"}}}})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,g.jsx)(m.A,{variant:"contained",color:"light"===e.palette.mode?"primary":"secondary",fullWidth:!0,onClick:()=>W(),sx:{height:"100%"},children:x?(0,g.jsx)(f.A,{size:24,color:"inherit"}):"Search"})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,g.jsx)(m.A,{variant:"outlined",color:"error",onClick:()=>{a({name:"Reset"}),o({name:"Reset"})},fullWidth:!0,sx:{height:"100%"},children:"Cancel"})})]}),(0,g.jsxs)(u.Ay,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsx)(s.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500,color:"text.secondary"},children:"Patients Information"})}),(0,g.jsx)(u.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,g.jsxs)(s.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500,color:"text.secondary",justifySelf:"end"},children:["Total Patient is \xa0 ",(0,g.jsx)("strong",{children:w})]})})]}),(0,g.jsx)(i.A,{sx:{height:300,width:"100%"},children:(0,g.jsx)(h.z,{rows:S?O:D,columns:T,loading:x,disableSelectionOnClick:!0,autoHeight:!0,sx:{minWidth:320}})})]})}),(0,g.jsx)(p.N9,{})]})}},81451:(e,t,a)=>{a.d(t,{N:()=>s});var n=Object.defineProperty,o=(e,t,a)=>(((e,t,a)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);const r=new Date("December 9, 2012").getTime()-new Date("April 1, 2005").getTime(),l=new Date(1900,2,1),i=new Date(2100,1,1);function d(e){return{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[e]}class s{constructor(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(o(this,"year"),o(this,"month"),o(this,"date"),o(this,"hour"),o(this,"minute"),o(this,"second"),o(this,"toTimeString",(()=>this.hour<13?m(this.hour)+":"+m(this.minute)+":"+m(this.second)+" a.m.":m(this.hour-12)+":"+m(this.minute)+":"+m(this.second)+" p.m.")),o(this,"toDateString",(()=>({1:"Meskerem ",2:"Tikimt ",3:"Hidar ",4:"Tahsas ",5:"Tir ",6:"Yekatit ",7:"Megabit ",8:"Meyazya ",9:"Ginbot ",10:"Sene ",11:"Hamle ",12:"Nehase ",13:"Pagume "}[this.month]+this.date+", "+this.year))),o(this,"toDateWithDayString",(()=>"".concat(d(this.getDay()),", ").concat(this.toDateString()))),o(this,"toString",(()=>"".concat(this.toDateString(),", ").concat(this.toTimeString()))),o(this,"toFullDateTimeString",(()=>"".concat(this.toString(),", ").concat(d(this.getDay())," ."))),o(this,"getDay",(()=>{return(this.year+2*this.month+this.date+(e=this.year,-Math.floor((2023-e)/4)))%7;var e})),a>30)throw new Error("Invalid Ethiopian Date: ".concat(a));if(t<1||t>13)throw new Error("Invalid Ethiopian Month: ".concat(t));this.year=e>200?e:e+1900,this.month=t,this.date=a,this.hour=n,this.minute=r,this.second=l}static now(){const e=new Date;return this.fromEuropeanDate(e)}static fromEuropeanDate(e){return c(e)}toEuropeanDate(){return function(e){const t=new Date(new Date(Date.UTC(e.year,e.month-1,e.date)).getTime()+r);if(13===e.month){let t;if(t=e.year%4===3?6:5,e.date>t)throw"Pagume Only has "+t+" days at year "+e.year+". Please select another day."}for(let a=-8;a<9;a++){const n=new Date(t.getTime()+864e5*a),o=n.getTime()-new Date(Date.UTC(1971,8,12)).getTime(),r=Math.floor(o/1262304e5);let l=Math.floor((o-1262304e5*r)/31536e6);4===l&&(l=3);const i=Math.floor((o-1262304e5*r-31536e6*l)/2592e6),d=Math.floor((o-1262304e5*r-31536e6*l-30*i*864e5)/864e5);if(e.date===d+1&&e.month===i+1){if(!u(n))throw"Out of range input year: ".concat(n.getFullYear());return n}}throw"Date not converted: ".concat(e.year,",  ").concat(e.month,",  ").concat(e.date,", ")}(this)}}function u(e){return e>=l&&e<=i}function c(e){if(!u(e))throw"Out of range input year: ".concat(e.getFullYear());const t=e.getTime()-new Date(Date.UTC(1971,8,12)).getTime(),a=Math.floor(t/1262304e5);let n=Math.floor((t-1262304e5*a)/31536e6);4===n&&(n=3);const o=Math.floor((t-1262304e5*a-31536e6*n)/2592e6),r=Math.floor((t-1262304e5*a-31536e6*n-30*o*864e5)/864e5);let l=e.getHours();return l<0&&(l+=24),new s(n+4*a+1964,o+1,r+1,l,e.getMinutes(),e.getSeconds())}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")}},97352:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var n=a(80045),o=a(89379),r=a(65043),l=a(26240),i=a(46946),d=a(94496),s=a(72882),u=a(83462),c=a(4219),m=a(97368),f=a(8591),h=a(78632),p=a(17642),v=a(17434),x=a(94814),g=a(66124),b=a(42788),N=a(56894),y=a(97334),A=a(92064),k=a(61976),M=a(70141),D=a(57488),C=(a(92342),a(27073)),O=a.n(C),I=a(77265),w=a(83074),j=a(48292),S=a(70579);const P=["patientFirstName","patientMiddleName","patientLastName","rowID"],T={mrn:"",id:"",goth:"",kebele:"",expDate:"",referralNumber:"",letterNumber:"",examination:""},R=(e,t)=>"Reset"===t.name?T:(0,o.A)((0,o.A)({},e),{},{[t.name]:t.values}),E={mrn:"MRN",id:"ID",kebele:"Woreda/Kebele",expDate:"Expiration Date"};const F=function(){const[e,t]=(0,r.useState)([]),[a,C]=(0,r.useState)(!1),[F,W]=(0,r.useState)(T),[L,z]=(0,r.useReducer)(R,T),[H,B]=(0,r.useState)(!1),[U,G]=(0,r.useState)([]),[q,$]=(0,r.useState)(!1),[K,Z]=(0,r.useState)(!1),[_,V]=(0,r.useState)(""),Y=(0,l.A)();(0,r.useEffect)((()=>{(async()=>{try{const t=await I.A.get("/Providers/list-providers");var e;if(200===t.status)G(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.map((e=>e.provider)))}catch(t){console.error("Fetch woredas error:",t)}})()}),[]),(0,r.useEffect)((()=>{(async()=>{try{const r=await I.A.post("/Patient/get-patient-cbhi");if(200===r.status){var e,a;const l=Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.value)&&r.data.data.value.length>0?r.data.data.value.map(((e,t)=>{let{patientFirstName:a="",patientMiddleName:r="",patientLastName:l="",rowID:i}=e,d=(0,n.A)(e,P);return(0,o.A)((0,o.A)({},d),{},{patientFName:"".concat(a," ").concat(r," ").concat(l).trim(),id:t+1})})).sort(((e,t)=>t.id-e.id)):[];t(l)}}catch(r){console.error("Fetch woredas error:",r)}})()}),[q]);const J=()=>{C(!1),W(T),z({name:"Reset"}),V("")},Q=e=>{const{name:t,value:a}=e.target;"mrn"===t?(V(""),ee(t,a)):te(t,a),W((e=>(0,o.A)((0,o.A)({},e),{},{[t]:a})))},X=[{field:"patientCardNumber",headerName:"MRN",flex:1},{field:"patientFName",headerName:"Patient Name",flex:1},{field:"idNo",headerName:"ID",flex:1},{field:"woreda",headerName:"Woreda/Kebele",flex:1},{field:"goth",headerName:"Goth",flex:1},{field:"referalNo",headerName:"Referral No.",flex:1},{field:"letterNo",headerName:"Letter No.",flex:1},{field:"examination",headerName:"Examination",flex:1},{field:"expDate",headerName:"Expired Date",flex:1,renderCell:e=>{var t;return(0,j.renderETDateAtCell)(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.expDate)}}],ee=(e,t)=>{const a=/^[0-9a-zA-Z\s\_\-]{5,}$/.test(t);z({name:e,values:a?"":"Please enter valid MRN (5+ digits)."})},te=(e,t)=>{const a=/^[a-zA-Z0-9\u1200-\u137F\s/\\]+$/.test(t);z({name:e,values:a?"":"Letters and numbers and \\ / only."})};return(0,S.jsxs)(i.A,{p:4,children:[(0,S.jsx)(D.N9,{}),(0,S.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,S.jsx)(d.A,{variant:"h5",fontWeight:"bold",children:"CBHI Users Management"}),(0,S.jsx)(s.A,{variant:"contained",color:"light"===Y.palette.mode?"info":"success",startIcon:(0,S.jsx)(M.A,{}),onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){const t={mrn:null===e||void 0===e?void 0:e.mrn,id:null===e||void 0===e?void 0:e.idNo,goth:null===e||void 0===e?void 0:e.goth,kebele:null===e||void 0===e?void 0:e.provider,expDate:null===e||void 0===e?void 0:e.expDate,referralNumber:null===e||void 0===e?void 0:e.referalNo,letterNumber:null===e||void 0===e?void 0:e.letterNo,examination:null===e||void 0===e?void 0:e.examination};W(t)}else W(T);C(!0)}(),children:"Add CBHI User"})]}),(0,S.jsx)(k.z,{autoHeight:!0,rows:e,columns:X,sx:{boxShadow:3,borderRadius:2,minWidth:320}}),(0,S.jsxs)(u.A,{open:a,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&J()},fullWidth:!0,maxWidth:"md",disableEnforceFocus:!0,children:[(0,S.jsx)(c.A,{children:"Add CBHI User"}),(0,S.jsx)(m.A,{children:(0,S.jsx)(f.Ay,{container:!0,spacing:2,mt:1,children:[{label:"MRN",name:"mrn"},{label:"ID",name:"id"},{label:"Woreda/Kebele",name:"kebele"},{label:"Goth",name:"goth"},{label:"Expired Date",name:"expDate"},{label:"Referral Number",name:"referralNumber"},{label:"Letter Number",name:"letterNumber"},{label:"Examination",name:"examination"}].map((e=>{var t;let{label:a,name:n}=e;return(0,S.jsx)(f.Ay,{item:!0,xs:12,sm:6,children:"expDate"===n?(0,S.jsx)(O(),{label:a,name:n,required:!0,error:!!L[n],helperText:L[n],value:F[n]?new Date(F[n]):null,onChange:e=>((e,t)=>{const a=new Date(t);if(isNaN(a.getTime()))return;const n=a.getTimezoneOffset(),r="".concat(n<=0?"+":"-").concat(String(Math.abs(n/60)).padStart(2,"0"),":").concat(String(Math.abs(n%60)).padStart(2,"0")),l=new Date(a.getTime()-6e4*n).toISOString().slice(0,19).replace("T"," "),i="".concat(l," ").concat(r);W((t=>(0,o.A)((0,o.A)({},t),{},{[e]:i}))),z({name:e,values:""})})(n,e),sx:{width:"100%"},InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},color:"dark"===Y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===Y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===Y.palette.mode?"#fff":"#000"}}}}):"kebele"===n?(0,S.jsxs)(h.A,{required:!0,fullWidth:!0,error:!!L[n],sx:{"& .MuiInputLabel-root":{color:"dark"===Y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===Y.palette.mode?"#fff":"#000"}},"& .MuiOutlinedInput-root":{color:"dark"===Y.palette.mode?"#fff":"#000","& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"}}},children:[(0,S.jsx)(p.A,{children:a}),(0,S.jsx)(v.A,{name:n,value:F[n],onChange:Q,label:a,children:U.map((e=>(0,S.jsx)(x.A,{value:e,children:e},e)))}),(0,S.jsx)(g.A,{children:L[n]})]}):"mrn"===n?(0,S.jsx)(b.A,{fullWidth:!0,label:a,name:n,value:F[n],onChange:Q,required:["mrn","id","kebele"].includes(n),error:!!L[n],helperText:(null===(t=L[n])||void 0===t?void 0:t.length)>0?L[n]:_,InputProps:{endAdornment:(0,S.jsx)(N.A,{position:"end",children:K&&(0,S.jsx)(y.A,{size:24,color:"inherit"})}),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},color:"dark"===Y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===Y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===Y.palette.mode?"#fff":"#000"}}},FormHelperTextProps:{style:{color:null!==L&&void 0!==L&&L.mrn?"red":"green",fontSize:"14px"}},onBlurCapture:()=>(async()=>{try{var e,t;if(Z(!0),(null===_||void 0===_?void 0:_.length)<=0&&(null===L||void 0===L||null===(e=L.mrn)||void 0===e?void 0:e.length)<=0&&(null===F||void 0===F||null===(t=F.mrn)||void 0===t?void 0:t.length)>0){const e=await(0,w.rA)(null===F||void 0===F?void 0:F.mrn);(null===e||void 0===e?void 0:e.length)>0?V(e):D.oR.error("Card Number Not Registered.")}}catch(a){console.error(a)}finally{Z(!1)}})()}):(0,S.jsx)(b.A,{fullWidth:!0,label:a,name:n,value:F[n],onChange:Q,multiline:"examination"===n,rows:"examination"===n?4:1,required:["mrn","id","kebele"].includes(n),error:!!L[n],helperText:L[n],InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===Y.palette.mode?"#fff":"#000"},color:"dark"===Y.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===Y.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===Y.palette.mode?"#fff":"#000"}}}})},n)}))})}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(s.A,{onClick:J,variant:"outlined",color:"error",children:"Cancel"}),(0,S.jsx)(s.A,{variant:"contained",onClick:async()=>{B(!0);try{const t=Object.keys(E).filter((e=>!F[e]));if((null===t||void 0===t?void 0:t.length)>0){const e=t.map((e=>E[e])).join(", ");return null===t||void 0===t||t.map((e=>{z({name:e,values:"Please fill this field"})})),void D.oR.error("Please fill in the following required fields: ".concat(e))}if(Object.values(L).some((e=>e.length>0)))return void D.oR.error("Please fix the errors.");const a={provider:null===F||void 0===F?void 0:F.kebele,service:"CBHI",kebele:null===F||void 0===F?void 0:F.kebele,goth:null===F||void 0===F?void 0:F.goth,idNo:null===F||void 0===F?void 0:F.id,referalNo:null===F||void 0===F?void 0:F.referralNumber,letterNo:null===F||void 0===F?void 0:F.letterNumber,examination:null===F||void 0===F?void 0:F.examination,expDate:null===F||void 0===F?void 0:F.expDate,cardNumber:"".concat(Number(null===F||void 0===F?void 0:F.mrn))},n=await I.A.post("/Patient/add-patient-cbhi",a);var e;if(201===(null===n||void 0===n?void 0:n.status))D.oR.success((null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.msg)||"CBHI User Regustered Success Fully."),$((e=>!e)),V(""),J()}catch(t){console.error("Save error:",t),D.oR.error("Failed to save user.")}finally{B(!1)}},color:"dark"===Y.palette.mode?"secondary":"primary",disabled:H,children:H?(0,S.jsx)(y.A,{size:20}):"Save"})]})]})]})}}}]);
//# sourceMappingURL=9494.0cf11929.chunk.js.map