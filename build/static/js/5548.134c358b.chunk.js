"use strict";(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[603,5548,5841,8222],{16005:(e,o,t)=>{t.d(o,{A:()=>x});t(65043);var a=t(26240),n=t(57556),i=t(266),l=t(46946),r=t(94496),s=t(71716),d=t(72882),c=t(97334),u=t(74802),m=t(98348),p=t(70579);const h={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,boxShadow:24,p:3,borderRadius:2,textAlign:"center"},x=e=>{let{isOpen:o,onClose:t,onConfirm:x,userData:v,userRole:f,loading:g}=e;const A=(0,a.A)();return(0,p.jsx)(n.A,{open:o,onClose:(e,o)=>{"backdropClick"!==o&&"escapeKeyDown"!==o&&t()},disableEscapeKeyDown:!0,closeAfterTransition:!0,BackdropComponent:i.A,BackdropProps:{timeout:500},"aria-labelledby":"confirmation-modal-title","aria-describedby":"confirmation-modal-description",children:(0,p.jsxs)(l.A,{sx:h,bgcolor:"light"===A.palette.mode?A.palette.background.paper:A.palette.background.default,children:[(0,p.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsxs)(r.A,{variant:"h6",fontWeight:"bold",id:"confirmation-modal-title",sx:{color:e=>"light"===e.palette.mode?e.palette.primary.main:e.palette.info.light,display:"flex",alignItems:"center"},children:[(0,p.jsx)(m.A,{sx:{fontSize:28,mr:1}}),"Please Confirm"]}),(0,p.jsx)(s.A,{onClick:t,color:"error","aria-label":"close modal",children:(0,p.jsx)(u.A,{})})]}),(0,p.jsxs)(r.A,{variant:"body1",textAlign:"center",mt:2,id:"confirmation-modal-description",children:["Are you sure you want to delete the"," ",f?'role "'.concat(f,'"'):"user ",(0,p.jsx)("strong",{children:v}),"?"]}),(0,p.jsxs)(l.A,{display:"flex",justifyContent:"center",mt:3,children:[(0,p.jsx)(d.A,{variant:"contained",color:"light"===A.palette.mode?"primary":"secondary",onClick:()=>{x({userData:v,message:"Delete"})},sx:{mx:1},"aria-label":"confirm deletion",children:g?(0,p.jsx)(c.A,{size:24,color:"inherit"}):"Confirm"}),(0,p.jsx)(d.A,{variant:"outlined",color:"error",onClick:t,sx:{mx:1},"aria-label":"cancel deletion",children:"Cancel"})]})]})})}},19252:(e,o,t)=>{t.d(o,{A:()=>b});var a=t(98587),n=t(58168),i=t(65043),l=t(58387),r=t(72372),s=t(98610),d=t(67598),c=t(52900),u=t(46060),m=t(80315),p=t(70579);const h=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,m.A)(),v=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o["maxWidth".concat((0,d.A)(String(t.maxWidth)))],t.fixed&&o.fixed,t.disableGutters&&o.disableGutters]}}),f=e=>(0,c.A)({props:e,name:"MuiContainer",defaultTheme:x});var g=t(6803),A=t(34535),y=t(98206);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:o=v,useThemeProps:t=f,componentName:c="MuiContainer"}=e,u=o((e=>{let{theme:o,ownerState:t}=e;return(0,n.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}})}),(e=>{let{theme:o,ownerState:t}=e;return t.fixed&&Object.keys(o.breakpoints.values).reduce(((e,t)=>{const a=t,n=o.breakpoints.values[a];return 0!==n&&(e[o.breakpoints.up(a)]={maxWidth:"".concat(n).concat(o.breakpoints.unit)}),e}),{})}),(e=>{let{theme:o,ownerState:t}=e;return(0,n.A)({},"xs"===t.maxWidth&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[o.breakpoints.up(t.maxWidth)]:{maxWidth:"".concat(o.breakpoints.values[t.maxWidth]).concat(o.breakpoints.unit)}})})),m=i.forwardRef((function(e,o){const i=t(e),{className:m,component:x="div",disableGutters:v=!1,fixed:f=!1,maxWidth:g="lg"}=i,A=(0,a.A)(i,h),y=(0,n.A)({},i,{component:x,disableGutters:v,fixed:f,maxWidth:g}),j=((e,o)=>{const{classes:t,fixed:a,disableGutters:n,maxWidth:i}=e,l={root:["root",i&&"maxWidth".concat((0,d.A)(String(i))),a&&"fixed",n&&"disableGutters"]};return(0,s.A)(l,(e=>(0,r.Ay)(o,e)),t)})(y,c);return(0,p.jsx)(u,(0,n.A)({as:x,ownerState:y,className:(0,l.A)(j.root,m),ref:o},A))}));return m}({createStyledComponent:(0,A.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o["maxWidth".concat((0,g.A)(String(t.maxWidth)))],t.fixed&&o.fixed,t.disableGutters&&o.disableGutters]}}),useThemeProps:e=>(0,y.b)({props:e,name:"MuiContainer"})}),b=j},33086:(e,o,t)=>{t.d(o,{A:()=>i});var a=t(66734),n=t(70579);const i=(0,a.A)([(0,n.jsx)("path",{d:"M3 19.1h18V4.95H3zm5-9.74 1.41-1.41L12 10.54l2.59-2.59L16 9.36l-2.59 2.59L16 14.54l-1.41 1.41L12 13.36l-2.59 2.59L8 14.54l2.59-2.59z",opacity:".3"},"0"),(0,n.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H3V5h18zM9.41 15.95 12 13.36l2.59 2.59L16 14.54l-2.59-2.59L16 9.36l-1.41-1.41L12 10.54 9.41 7.95 8 9.36l2.59 2.59L8 14.54z"},"1")],"CancelPresentationTwoTone")},58442:(e,o,t)=>{t.r(o),t.d(o,{default:()=>M});var a=t(89379),n=t(65043),i=t(26240),l=t(71716),r=t(19252),s=t(94496),d=t(65204),c=t(8591),u=t(42788),m=t(94814),p=t(72882),h=t(97334),x=t(95540),v=t(63471),f=t(61976),g=t(11238),A=t(33086),y=t(62954),j=t(77265),b=t(57488),C=(t(92342),t(83074)),k=t(83462),S=t(4219),w=t(97368),z=t(92064),E=t(70579);const W=e=>{let{open:o,onClose:t,creditUserData:i,onSave:l,isloading:r}=e;const[s,d]=(0,n.useState)((()=>void 0!==i?(0,a.A)({},i):{}));(0,n.useEffect)((()=>{d(i)}),[i]);const c=e=>{d((o=>(0,a.A)((0,a.A)({},o),{},{[e.target.name]:e.target.value})))};return(0,E.jsxs)(k.A,{open:o,onClose:(e,o)=>{"backdropClick"!==o&&"escapeKeyDown"!==o&&t()},maxWidth:"sm",disableEnforceFocus:!0,BackdropProps:{"aria-hidden":!1},fullWidth:!0,children:[(0,E.jsx)(S.A,{children:"Edit Credit Usesr"}),(0,E.jsxs)(w.A,{dividers:!0,children:[(0,E.jsx)(u.A,{margin:"dense",label:"Employee ID",name:"employeeID",fullWidth:!0,value:(null===s||void 0===s?void 0:s.employeeID)||"",onChange:c}),(0,E.jsx)(u.A,{margin:"dense",label:"Name",name:"employeeName",fullWidth:!0,value:(null===s||void 0===s?void 0:s.employeeName)||"",onChange:c}),(0,E.jsx)(u.A,{margin:"dense",label:"Phone",name:"employeePhone",fullWidth:!0,value:(null===s||void 0===s?void 0:s.employeePhone)||"",onChange:c}),(0,E.jsx)(u.A,{margin:"dense",label:"Email",name:"employeeEmail",fullWidth:!0,value:(null===s||void 0===s?void 0:s.employeeEmail)||"",onChange:c})]}),(0,E.jsxs)(z.A,{children:[(0,E.jsx)(p.A,{onClick:t,color:"inherit",children:"Cancel"}),(0,E.jsx)(p.A,{onClick:()=>{l({editedData:s,message:"Edit"}),t()},variant:"contained",color:"primary",children:r?(0,E.jsx)(h.A,{size:24,color:"inherit"}):"Save"})]})]})};var D=t(16005);const I=(0,C.N8)(),M=()=>{const[e,o]=(0,n.useState)([]),[t,C]=(0,n.useState)([]),[k,S]=(0,n.useState)([]),[w,z]=(0,n.useState)(!1),[M,N]=(0,n.useState)(null),[P,R]=(0,n.useState)(!1),[L,O]=(0,n.useState)(null),[U,F]=(0,n.useState)(!1),[G,T]=(0,n.useState)(!1),[V,B]=(0,n.useState)(!1),[H,_]=(0,n.useState)(!1),[K,q]=(0,n.useState)(!1),[J,Q]=(0,n.useState)(!1),[X,Y]=(0,n.useState)({organization:"",option:""}),[Z,$]=(0,n.useState)([]),[ee,oe]=(0,n.useState)(""),te=(0,i.A)();(0,n.useEffect)((()=>{(async()=>{try{const e=await j.A.get("/Organiztion/get-workers");S((null===e||void 0===e?void 0:e.data)<=0?new Array:null===e||void 0===e?void 0:e.data)}catch(o){var e;console.error(o),b.oR.error((null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.data)||"Failde To Load list.")}})()}),[J]);const ae=async t=>{try{if("Edit"===t.message){if(e.length>0){const n=null===e||void 0===e?void 0:e.map((e=>{var o;return e.id===(null===t||void 0===t||null===(o=t.editedData)||void 0===o?void 0:o.id)?(0,a.A)((0,a.A)({},e),null===t||void 0===t?void 0:t.editedData):e}));o(n)}R(!0)}else z(!0),N(null===t||void 0===t?void 0:t.row)}catch(n){console.error("This is handle Edit Error: ",n)}finally{R(!1)}},ne=async t=>{try{var a;if("Delete"===t.message)e.length>0&&o((e=>e.filter((e=>e.employeeID!==(null===t||void 0===t?void 0:t.userData))))),F(!0),q(!1),O(null);else q(!0),O(null===t||void 0===t||null===(a=t.row)||void 0===a?void 0:a.employeeID)}catch(n){console.error("This is handle confirm Error: ",n)}finally{F(!1)}},ie=[{field:"employeeID",headerName:"Employee ID",flex:1},{field:"employeeName",headerName:"Employee Name",flex:1},{field:"employeePhone",headerName:"Phone",flex:1},{field:"employeeEmail",headerName:"Email",flex:1},{field:"workPlace",headerName:"Organization",flex:1},{field:"actions",headerName:"Actions",width:130,renderCell:e=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(l.A,{onClick:()=>ae(e),color:"info","aria-label":"edit",className:"text-info",children:(0,E.jsx)(x.A,{})}),(0,E.jsx)(l.A,{color:"error",onClick:()=>ne(e),"aria-label":"delete",className:"text-danger",children:(0,E.jsx)(v.A,{})})]})}];(0,n.useEffect)((()=>{(async()=>{try{const o=await j.A.get("/Organiztion/Organization");var e;if(200===(null===o||void 0===o?void 0:o.status)||201===(null===o||void 0===o?void 0:o.status))$(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.map((e=>e.organization)))}catch(o){console.error(o.message)}})()}),[]);const le=e=>{C([]),oe(""),Y((0,a.A)((0,a.A)({},X),{},{[e.target.name]:e.target.value}))};return(0,E.jsxs)(r.A,{children:[(0,E.jsx)(s.A,{variant:"h5",gutterBottom:!0,children:"Credit Users"}),(0,E.jsx)(d.A,{sx:{padding:2,marginBottom:2},children:(0,E.jsxs)(c.Ay,{children:[(0,E.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(c.Ay,{item:!0,xs:4,children:(0,E.jsx)(u.A,{select:!0,fullWidth:!0,label:"Organization",variant:"filled",name:"organization",value:X.organization,onChange:le,margin:"normal",required:!0,InputLabelProps:{sx:{color:"primary.neutral","&.Mui-focused":{color:"secondary.main"}}},children:Z.map(((e,o)=>(0,E.jsx)(m.A,{value:e,children:e},o)))})}),(0,E.jsx)(c.Ay,{item:!0,xs:3,children:(0,E.jsx)(u.A,{select:!0,fullWidth:!0,label:"Option",name:"option",variant:"filled",value:X.option,onChange:le,margin:"normal",required:!0,InputLabelProps:{sx:{color:"primary.neutral","&.Mui-focused":{color:"secondary.main"}}},children:["New","Extend"].map(((e,o)=>(0,E.jsx)(m.A,{value:e,children:e},o)))})}),(0,E.jsxs)(c.Ay,{item:!0,xs:5,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,E.jsx)("input",{accept:".xlsx, .xls",type:"file",onChange:e=>{(e=>{try{if(B(!0),C([]),oe(""),!X.organization)return b.oR.error("Please First Select Organization."),void(e.target.value=null);if(!X.option)return b.oR.error("Please First Select Option."),void(e.target.value=null);const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=t=>{const n=new Uint8Array(t.target.result),i=g.LF(n,{type:"array"}),l=i.SheetNames[0],r=i.Sheets[l],s=g.Wp.sheet_to_json(r).map(((e,o)=>(0,a.A)((0,a.A)({},e),{},{id:o+1,workPlace:null===X||void 0===X?void 0:X.organization,option:null===X||void 0===X?void 0:X.option})));o(s),e.target.value=null},n.readAsArrayBuffer(t)}catch(t){console.error(t)}finally{B(!1)}})(e)},style:{display:"none"},id:"upload-excel"}),(0,E.jsx)("label",{htmlFor:"upload-excel",children:(0,E.jsx)(p.A,{variant:"contained",color:"light"===te.palette.mode?"primary":"secondary",component:"span",startIcon:(0,E.jsx)(y.A,{}),children:V?(0,E.jsx)(h.A,{size:24,color:"inherit"}):"Upload Excel"})}),(0,E.jsx)(l.A,{onClick:()=>{o([]),Y({organization:"",option:""}),C([]),oe("")},color:"error",sx:{marginLeft:2},children:(0,E.jsx)(A.A,{})}),(0,E.jsx)(p.A,{variant:"contained",color:"light"===te.palette.mode?"primary":"secondary",onClick:async()=>{try{T(!0);await j.A.post("/Organiztion/add-workers",{employeeID:e.map((e=>null===e||void 0===e?void 0:e.employeeID)),employeeName:e.map((e=>null===e||void 0===e?void 0:e.employeeName)),employeePhone:e.map((e=>null===e||void 0===e?void 0:e.employeePhone)),employeeEmail:e.map((e=>null===e||void 0===e?void 0:e.employeeEmail)),isExtend:"Extend"===(null===X||void 0===X?void 0:X.option),workplace:null===X||void 0===X?void 0:X.organization,uploadedBy:null===I||void 0===I?void 0:I.name});b.oR.success("Upload Successful."),Q((e=>!e)),o([]),Y({organization:"",option:""})}catch(t){console.error("Upload error:",t),b.oR.error("Upload error.")}finally{T(!1)}},sx:{marginLeft:2},disabled:0===e.length,children:G?(0,E.jsx)(h.A,{size:24,color:"inherit"}):"Upload to Database"})]})]}),(0,E.jsxs)(c.Ay,{container:!0,spacing:2,sx:{marginTop:"10px"},children:[(0,E.jsx)(c.Ay,{item:!0,xs:11,children:(0,E.jsx)(u.A,{fullWidth:!0,type:"text",label:"Search By Employee ID",value:ee,onChange:e=>{C([]),oe(e.target.value)},InputProps:{sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===te.palette.mode?"#fff":"#000"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===te.palette.mode?"#fff":"#000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"dark"===te.palette.mode?"#fff":"#000"},color:"dark"===te.palette.mode?"#fff":"#000"}},InputLabelProps:{sx:{color:"dark"===te.palette.mode?"#ccc":"#555","&.Mui-focused":{color:"dark"===te.palette.mode?"#fff":"#000"}}}})}),(0,E.jsx)(c.Ay,{item:!0,xs:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,E.jsx)(p.A,{variant:"contained",color:"light"===te.palette.mode?"primary":"secondary",onClick:()=>(async()=>{try{var e;if(_(!0),!ee)return void b.oR.error("Please insert something to search field");const o=await j.A.get("/Organiztion/get-workers/".concat(ee));0===(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.length)&&b.oR.info("Employee ID : ".concat(ee," not Found.")),C(null===o||void 0===o?void 0:o.data)}catch(o){console.error(o),b.oR.error("Unable to search.")}finally{_(!1)}})(),children:H?(0,E.jsx)(h.A,{size:24,color:"inherit"}):"Search"})})]}),(0,E.jsx)(s.A,{variant:"h6",sx:{m:"15px 0 5px 20px"},children:t.length>0?"Viewing Search Result":e.length>0?"Viewing from File":"Viewing Registered"})]})}),(0,E.jsx)(d.A,{sx:{height:400},children:(0,E.jsx)(f.z,{rows:t.length>0?t:e.length<=0?k:e,columns:ie,components:{ErrorOverlay:()=>(b.oR.error("Id Missing"),(0,E.jsx)("div",{style:{padding:"20px",color:"red"},children:"An error occurred: Id Missing"}))},autoHeight:!0,sx:{minWidth:320}})}),(0,E.jsx)(W,{open:w,onClose:()=>{z(!1),N(null),R(!1)},creditUserData:M,onSave:ae,isloading:P}),(0,E.jsx)(D.A,{isOpen:K,onClose:()=>{q(!1),O(null),F(!1)},onConfirm:ne,userData:L,loading:U}),(0,E.jsx)(b.N9,{})]})}},62954:(e,o,t)=>{var a=t(24994);o.A=void 0;var n=a(t(40039)),i=t(70579);o.A=(0,n.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},63471:(e,o,t)=>{var a=t(24994);o.A=void 0;var n=a(t(40039)),i=t(70579);o.A=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},74802:(e,o,t)=>{var a=t(24994);o.A=void 0;var n=a(t(40039)),i=t(70579);o.A=(0,n.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},95540:(e,o,t)=>{var a=t(24994);o.A=void 0;var n=a(t(40039)),i=t(70579);o.A=(0,n.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98348:(e,o,t)=>{var a=t(24994);o.A=void 0;var n=a(t(40039)),i=t(70579);o.A=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")}}]);
//# sourceMappingURL=5548.134c358b.chunk.js.map